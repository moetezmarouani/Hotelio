<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.hotelio.controllers.MesReservationsController"
      spacing="20.0"
      style="-fx-background-color: #f5f5f5;">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Titre -->
    <HBox alignment="CENTER_LEFT" spacing="10">
        <Label text="ðŸ“‹ Mes RÃ©servations"
               style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

        <Region HBox.hgrow="ALWAYS"/>

        <Label fx:id="statsLabel"
               text="0 rÃ©servation(s)"
               style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d;"/>
    </HBox>

    <!-- Filtres -->
    <HBox spacing="10"
          style="-fx-background-color: white; -fx-padding: 15; -fx-background-radius: 10;">

        <Label text="Filtrer par statut:" style="-fx-font-weight: bold;"/>
        <ComboBox fx:id="statutFilterComboBox"
                  onAction="#handleFilter"
                  prefWidth="150"/>

        <Region HBox.hgrow="ALWAYS"/>

        <Button fx:id="refreshButton"
                text="ðŸ”„ Actualiser"
                onAction="#handleRefresh"
                style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
    </HBox>

    <!-- TableView des rÃ©servations -->
    <TableView fx:id="reservationsTableView"
               VBox.vgrow="ALWAYS"
               style="-fx-background-color: white;">

        <columns>
            <TableColumn fx:id="idColumn" text="RÃ©f." prefWidth="60">
                <cellValueFactory>
                    <PropertyValueFactory property="id"/>
                </cellValueFactory>
            </TableColumn>

            <TableColumn fx:id="chambreColumn" text="Chambre" prefWidth="100"/>

            <TableColumn fx:id="checkinColumn" text="ArrivÃ©e" prefWidth="100">
                <cellValueFactory>
                    <PropertyValueFactory property="dateCheckin"/>
                </cellValueFactory>
            </TableColumn>

            <TableColumn fx:id="checkoutColumn" text="DÃ©part" prefWidth="100">
                <cellValueFactory>
                    <PropertyValueFactory property="dateCheckout"/>
                </cellValueFactory>
            </TableColumn>

            <TableColumn fx:id="nuitsColumn" text="Nuits" prefWidth="60"/>

            <TableColumn fx:id="personnesColumn" text="Pers." prefWidth="60">
                <cellValueFactory>
                    <PropertyValueFactory property="nombrePersonnes"/>
                </cellValueFactory>
            </TableColumn>

            <TableColumn fx:id="prixColumn" text="Prix Total" prefWidth="100">
                <cellValueFactory>
                    <PropertyValueFactory property="prixTotal"/>
                </cellValueFactory>
            </TableColumn>

            <TableColumn fx:id="statutColumn" text="Statut" prefWidth="120">
                <cellValueFactory>
                    <PropertyValueFactory property="statut"/>
                </cellValueFactory>
            </TableColumn>

            <TableColumn fx:id="actionsColumn" text="Actions" prefWidth="200"/>
        </columns>

        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
        </columnResizePolicy>
    </TableView>

</VBox>